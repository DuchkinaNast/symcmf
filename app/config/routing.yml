app:
    resource: '@AppBundle/Controller/'
    type:     annotation
    prefix:   /{_locale}
    requirements:
        _locale: '%app_locales%'
    defaults:
        _locale: '%locale%'

homepage:
    path: /{_locale}
    requirements:
        _locale: '%app_locales%'
    defaults:
        _locale:  '%locale%'

# FOSUserBundle's routing
fos_user_security:
  resource: "@FOSUserBundle/Resources/config/routing/security.xml"
  prefix: /{_locale}/
  requirements:
          _locale: '%app_locales%'

fos_user_profile:
  resource: "@FOSUserBundle/Resources/config/routing/profile.xml"
  prefix: /{_locale}/profile

fos_user_register:
  resource: "@FOSUserBundle/Resources/config/routing/registration.xml"
  prefix: /{_locale}/register

fos_user_resetting:
  resource: "@FOSUserBundle/Resources/config/routing/resetting.xml"
  prefix: /{_locale}/resetting

fos_user_change_password:
  resource: "@FOSUserBundle/Resources/config/routing/change_password.xml"
  prefix: /{_locale}/profile

#HWIOAuthBundle routes
hwi_oauth_security:
    resource: "@HWIOAuthBundle/Resources/config/routing/login.xml"
    prefix: /{_locale}/login
hwi_oauth_connect:
    resource: "@HWIOAuthBundle/Resources/config/routing/connect.xml"
    prefix: /{_locale}/login
hwi_oauth_redirect:
    resource: "@HWIOAuthBundle/Resources/config/routing/redirect.xml"
    prefix: /{_locale}/login

# Admin's routing
sonata_user:
  resource: '@SonataUserBundle/Resources/config/routing/admin_security.xml'
  prefix: /{_locale}/admin

# Media routes
gallery:
    resource: '@SonataMediaBundle/Resources/config/routing/gallery.xml'
    prefix: /{_locale}/media/gallery

media:
    resource: '@SonataMediaBundle/Resources/config/routing/media.xml'
    prefix: /{_locale}/media

# SonataPageBundle routes
sonata_page_exceptions:
    resource: '@SonataPageBundle/Resources/config/routing/exceptions.xml'
    prefix: /{_locale}/

#SonataNewsBundle
news:
    resource: '@SonataNewsBundle/Resources/config/routing/news.xml'
    prefix: /{_locale}/news

# SonataCacheBundle route
sonata_cache_cache:
    resource: '@SonataCacheBundle/Resources/config/routing/cache.xml'
    prefix: /

# Routers for rest api
NelmioApiDocBundle:
    resource: "@NelmioApiDocBundle/Resources/config/routing.yml"
    prefix:   /api/doc

sonata_api_media:
    type:         rest
    prefix:       /api
    resource:     "@SonataMediaBundle/Resources/config/routing/api.xml"

sonata_api_user:
    type:         rest
    prefix:       /api/user
    resource:     "@SonataUserBundle/Resources/config/routing/api.xml"

sonata_api_news:
    type:         rest
    prefix:       /api
    resource:     "@SonataNewsBundle/Resources/config/routing/api.xml"

sonata_api_page:
    type:         rest
    prefix:       /api/page
    resource:     "@SonataPageBundle/Resources/config/routing/api.xml"

sonata_api_messages:
    type:         rest
    prefix:       /api
    resource:     "@MessageBundle/Resources/config/routing/api.xml"

admin:
  resource: '@SonataAdminBundle/Resources/config/routing/sonata_admin.xml'
  prefix: /{_locale}/admin

_sonata_admin:
  resource: .
  type: sonata_admin
  prefix: /{_locale}/admin
